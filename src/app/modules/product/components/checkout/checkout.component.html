<section class="mb-12 pt-2 pb-8 px-4 bg-white">
  <h3 class="text-3xl font-semibold text-gray-700 text-center mb-3">
    <i title="Checkout" class="fa-solid fa-lock mr-2"></i>
    Checkout
  </h3>
  
  <ol class="flex items-center w-full text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base pb-5">
    <li class="flex md:w-full items-center text-[#3c64a9] dark:text-[#3c64a9] sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700">
      <span class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500">
        <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 mr-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
          <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/>
        </svg>
        Shipping <span class="hidden sm:inline-flex sm:ml-2">Info</span>
      </span>
    </li>
    <li class="flex md:w-full items-center after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700">
      <span class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500">
        <span class="mr-2">2</span>
        Payment <span class="hidden sm:inline-flex sm:ml-2">Method</span>
      </span>
    </li>
    <li class="flex items-center">
      <span class="mr-2">3</span>
      Delivery
    </li>
  </ol>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 h-full">
    <article class="col-span-1 lg:col-span-2 md:pr-10">
      <h2 class="text-2xl font-semibold leading-7 text-gray-600">Billing Details</h2>
      <form [formGroup]="shippingForm" (ngSubmit)="onSave()">
        <div class="space-y-12">
          <div class="border-b border-gray-900/10 pb-12">               
            <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
              <!-- Campos existentes (firstName, lastName, email, mobile, address, city, state, country, postalCode) permanecen igual -->

              <div class="sm:col-span-2">
                <label for="paymentMethod" class="block text-sm font-medium leading-6 text-gray-900">Payment Method</label>
                <div class="mt-2">
                  <select id="paymentMethod" formControlName="paymentMethod" class="block w-full border-0 p-2.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-inset focus:ring-gray-500 sm:max-w-xs sm:text-sm sm:leading-6" required>
                    <option value="" disabled selected>Selecciona un método</option>
                    <option value="credit_card">Tarjeta de Crédito</option>
                    <option value="paypal">PayPal</option>
                    <option value="bank_transfer">Transferencia Bancaria</option>
                  </select>
                </div>
                <p *ngIf="shippingForm.get('paymentMethod')?.invalid && shippingForm.get('paymentMethod')?.touched" class="text-sm text-red-400">
                  * Método de pago requerido
                </p>
              </div>
            </div>
          </div>

          <div class="mt-6 flex items-center justify-end gap-x-6">
            <button type="button" class="text-sm font-semibold leading-6 text-gray-900" (click)="cancel()">Cancelar</button>
            <button type="submit" [disabled]="shippingForm.invalid" class="bg-gray-700 px-12 py-3 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-500">
              Guardar
            </button>
          </div>
        </div>
      </form>
    </article>
    <article class="col-span-1 lg:col-span-1 mb-4">
      <div class="flex flex-col">
        <div class="flex-1">
          <h3 class="text-2xl font-semibold text-gray-600">Order Summary</h3>
        </div>
        <div>
          <div class="mt-8">
            <div class="flex justify-between pb-3">
              <span class="text-xl text-gray-600">Shipping Cost</span>
              <span class="text-xl text-gray-600">$0.00</span>
            </div>
            <div class="flex justify-between pb-3">
              <span class="text-xl text-gray-600">Discount</span>
              <span class="text-xl text-gray-600">$0.00</span>
            </div>
            <div class="flex justify-between pb-3">
              <span class="text-xl text-gray-600">GST</span>
              <span class="text-xl text-gray-600">{{gstAmount}}</span>
            </div>
            <div class="flex justify-between pt-8">
              <span class="text-2xl font-semibold">Order Total</span>
              <span class="text-2xl font-semibold">${{grandTotal}}</span>
            </div>
          </div>
        </div>
        <div class="flex justify-center mt-60">
          <button type="submit" form="shippingForm" class="w-[80%] px-16 py-4 text-center font-semibold text-white bg-[#3c64a9]">
            <i class="fa-solid fa-lock mr-2"></i>
            Place Order
          </button>
        </div>
      </div>
    </article>
  </div>
</section>